@model Bar.Models.Plato

<h2>Nuevo platillo</h2>

<div id="platoForm">

<form asp-action="Crear" method="post" enctype="multipart/form-data" v-on:submit="validarFormulario">
    
    <div class = "mb-2">
        <label>Nombre</label>
        <input asp-for="Nombre" 
        class="form-control"
        v-model="nombre"/>
    </div>

   <div class = "mb-2">
        <label>Ingredientes</label>
        <input asp-for="Ingredientes" 
        class="form-control"
        v-model="ingredientes"
        placeholder="pollo, queso, tomate"/>
    </div>

    <div class="mt-2">
        <span class="badge bg-secondary me-1"
        v-for="(ing, i) in listaIngredientes"
        :ket="i">
        {{ ing }}
        </span>
    </div>
    
    <div class = "mb-2">
        <label>Descripcion</label>
        <input asp-for="Descripcion" 
        class="form-control"/>
    </div>

        <div class = "mb-2">
        <label>Costo</label>
        <input asp-for="Costo" 
        class="form-control"
        type="number"
        v-model.number="costo"/>
    </div>

    <div class = "mb-2">
        <label>Foto</label>
        <input type="file" 
        name="Imagen" 
        class="form-control"
        v-on:change="previewImagen"/>
    </div>

    <div v-if="imagenPreview" class="mt-3">
        <p class="mb-1">Vista previa</p>
        <img :src="imagenPreview"
              class="img-thumbnail"
              style="max-width: 200px"/>
    </div>

    <div v-if="error" class="alert alert-danger mt-3">
        {{ error }}
    </div>

    <button class="btn btn-success">Guardar</button>
</form>

</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="~/js/plates-form.js"></script>
}